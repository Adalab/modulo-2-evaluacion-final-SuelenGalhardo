"use strict";const listElement=document.querySelector(".js__list"),ulFavorites=document.querySelector(".js__list__Favorites"),inputSelection=document.querySelector(".js__selection"),inputBtn=document.querySelector(".js__submit"),resetBtn=document.querySelector(".js__resetbtn"),removeX=document.querySelector(".js__buttonX"),serverURL="https://api.disneyapi.dev/character?";let animesDataList=[],animesFavorites=[];const favLocalStorage=JSON.parse(localStorage.getItem("favAnimes"));function start(){favLocalStorage&&(animesFavorites=favLocalStorage,renderListFavorites(animesFavorites))}function renderListCharacters(e){listElement.innerHTML="";for(const t of e)listElement.innerHTML+=renderOnlyCharacter(t);addEventAnimes()}function addEventAnimes(){const e=document.querySelectorAll(".js__li__animes");for(const t of e)t.addEventListener("click",handleClick)}function renderOnlyCharacter(e){let t=`\n   <li id="${e._id}" class="character__card js__li__animes">\n\n                 <img class="character__img js_img" src="${e.imageUrl}" alt="Disney Characters" />\n                <p class="character__name js_name">${e.name}</p>\n                <button class="character__buttonX js__buttonX">X</button>\n              \n                 \n              </li>`;if(void 0===e.imageUrl){const n="https://via.placeholder.com/210x295/ffffff/555555/?text=Disney";t=`<li id="${e._id}"class="character__card">\n                                <img class="character__img js_img" src="${n}" alt="Imagen en Blanco" />\n                                <p class="character__name js_name">${e.name}</p>\n                        </li>`}return t}function handleClick(e){const t=parseInt(e.currentTarget.id),n=animesDataList.find(e=>e._id===t),a=animesFavorites.findIndex(e=>e._id===t);-1===a?(animesFavorites.push(n),localStorage.setItem("favAnimes",JSON.stringify(animesFavorites))):animesFavorites.splice(a,1),renderListFavorites()}function renderListFavorites(){ulFavorites.innerHTML="";for(const e of animesFavorites)ulFavorites.innerHTML+=renderOnlyCharacter(e)}start(),fetch(serverURL).then(e=>e.json()).then(e=>{animesDataList=e.data,renderListCharacters(animesDataList,listElement)});const handleSearch=e=>{e.preventDefault();const t=inputSelection.value;renderListCharacters(animesDataList.filter(e=>e.name.toLowerCase().includes(t.toLowerCase())))};inputBtn.addEventListener("click",handleSearch);const handleReset=e=>{e.preventDefault(),animesFavorites=[],localStorage.clear(),renderListFavorites()};resetBtn.addEventListener("click",handleReset);const handleFavoritesRemove=e=>{console.log(e),animesFavorites=[],e.preventDefault()};